<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONFIDENTIAL | HAROLD FINCH</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        #logContent {
            height: calc(100% - 30px);
            overflow-y: auto;
            scroll-behavior: auto !important; /* 关闭平滑滚动，避免卡顿 */
            font-family: inherit;
            font-size: inherit;
            color: inherit;
            position: relative;
        }
        .sidebar-random {
            transition: all 0.5s ease;
        }
        .fading {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #locationMarker {
            transition: all 0.5s ease;
        }
        #logContent::-webkit-scrollbar {
            display: none;
        }
        #logContent {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="profile-root">
    <div class="bg-base"></div>
    <div class="bg-circuit"></div>

    <div class="system-status">
        <div class="status-left">
            <span class="back-btn" onclick="window.location.href='index.html'">BACK TO MONITOR</span>
            <i class="fas fa-server"></i> THE MACHINE v4.8.2
            <span><i class="fas fa-network-wired"></i> NODES: 2,147,483</span>
            <span><i class="fas fa-microchip"></i> LOAD: 82%</span>
        </div>
        <div class="status-right">
            <span><i class="fas fa-database"></i> PROCESS: 3.7TB/s</span>
            <span class="time"></span>
        </div>
    </div>
    <!-- 侧边栏：仅改Finch个人运营信息，排版与Reese完全一致 -->
    <div class="nypd-sidebar" id="nypdSidebar">
        <div class="sidebar-title">THE MACHINE CREATOR (COVER: DECEASED)<br>[FINCH'S OPERATIONAL ZONE]</div>
        <div class="nypd-section">
            <h4>OPERATIONAL STATUS (FINCH'S UNIT)</h4>
            <p>FINCH'S SHIFT: 24/7 | ON DUTY: YES (OVERTIME: <span class="sidebar-random" data-min="24" data-max="72">48</span>hrs) | PHYSICAL STATUS: Chronic Back Pain (From Explosion)</p>
            <p>PARTNER: REESE (STATUS: <span class="sidebar-random" data-list="ACTIVE,STANDBY,IN COMM">ACTIVE</span>) | ROOT (ASSISTANT) | SHAW (FIELD AGENT) | FUSCO (INFORMANT)</p>
            <p>PATROL AREA: MANHATTAN (LIBRARY-BASED) | BEAT: COVERT (OFF-SITE)</p>
            <p>DESK ASSIGNMENT: PUBLIC LIBRARY (SECRET WORKSHOP, COVER FOR TM)</p>
        </div>
        <div class="nypd-section">
            <h4>FINCH'S ACTIVE OPERATIONS</h4>
            <p>OP#801: THE MACHINE MAINTENANCE | STATUS: <span class="sidebar-random" data-list="ONGOING,STANDBY,UPDATING">ONGOING</span> (TM RELATED)</p>
            <p>OP#802: HR CORRUPTION RESEARCH (12TH PRECINCT) | STATUS: PENDING (ANALYZING)</p>
            <p>OP#803: SHAW RESCUE (Samaritan Capture) | STATUS: RESOLVED (COVER FOR TM)</p>
            <p>OP#804: MACHINE SECURITY (Samaritan Threat) | STATUS: CLASSIFIED (TM ASSIGNMENT)</p>
        </div>
        <div class="nypd-section">
            <h4>OPERATIONAL RESOURCES (FINCH ACCESS)</h4>
            <p>VEHICLES ASSIGNED: <span class="sidebar-random" data-min="2" data-max="4">2</span> (Modified Van, Unmarked Sedan) | BACKUP: REESE/SHAW</p>
            <p>FORENSICS: EXPERT (Tech-Based) | RESPONSE: INSTANT</p>
            <p>DATABASE ACCESS: LEVEL 6 (The Machine, Government-Grade)</p>
            <p>INFORMANT CONTACTS: <span class="sidebar-random" data-min="2" data-max="5">3</span> (Elias, Fusco, Root)</p>
        </div>
    </div>
    <div class="profile-container">
        <div class="profile-card">
            <!-- 标题区：仅改Finch个人标识，排版不变 -->
            <div class="profile-title">
                <h1>HAROLD FINCH</h1>
                <p>IDENTITY: TGT-002-67890 | RISK LEVEL: HIGH | LAST SEEN: MANHATTAN PUBLIC LIBRARY</p>
            </div>
            <div class="profile-top-wrapper">
                <!-- 左侧基础信息：仅改Finch数据，排版与Reese完全一致 -->
                <div class="profile-basic">
                    <div class="photo-box">
                        <img src="img/finch.jpg" alt="Harold Finch"> <!-- 替换为Finch图片路径 -->
                    </div>
                    <div class="safety-level">
                        <p class="level-text">SAFETY LEVEL</p>
                        <p class="level-value">HIGH</p>
                    </div>
                    <div class="basic-info">
                        <p><strong>Full Name:</strong> Harold Finch</p>
                        <p><strong>DOB:</strong> 1961-03-05</p>
                        <p><strong>Address:</strong> Manhattan Public Library (Secret Workshop)</p>
                        <p><strong>Occupation:</strong> Software Engineer | The Machine Creator | Vigilante</p>
                        <p><strong>Affiliation:</strong> The Machine | Former Government Contractor (Deceased Cover)</p>
                        <p><strong>Contact:</strong> (212) 555-6789 (Burner Phone - Rotates Daily)</p>
                    </div>
                </div>
                <!-- 日志列：仅改Finch日常内容，双份日志结构不变（确保无缝滚动） -->
                <div class="profile-logs-column">
                    <div class="log-scroll">
                        <h3>SYSTEM LOGS</h3>
                        <div class="log-content" id="logContent">
                            <!-- 第一份日志：Finch专属活动，排版与Reese一致 -->
                            <div class="log-copy log-copy-1">
                                <p><span class="log-time">06:00:00</span> - Library workshop: Completed The Machine daily maintenance (bug fixes, encryption)</p>
                                <p><span class="log-time">07:30:15</span> - Exited library, purchased coffee (bodega, 5th & 40th - scanned for surveillance)</p>
                                <p><span class="log-time">08:10:32</span> - Analyzed HR corruption data (12th Precinct records - TM redacted)</p>
                                <p><span class="log-time">09:15:47</span> - Encrypted comms with Reese: Shared HR target coordinates (7th Ave & 34th St)</p>
                                <p><span class="log-time">10:00:21</span> - Updated TM's threat detection (Samaritan countermeasure)</p>
                                <p><span class="log-time">11:25:18</span> - Hacked NYPD database (remote) - Cover for HR intel extraction</p>
                                <p><span class="log-time">12:30:55</span> - Met with Root at diner (8th & 23rd St) - Discussed Machine security</p>
                                <p><span class="log-time">13:45:33</span> - Returned to library, wiped encrypted drive (no trace, cover for TM)</p>
                                <p><span class="log-time">14:20:19</span> - Monitored Reese's field activity (via TM cameras - 7th Ave surveillance)</p>
                                <p><span class="log-time">15:50:46</span> - Received TM alert: High-risk case (Times Sq - witness threat)</p>
                                <p><span class="log-time">16:35:22</span> - Coordinated with Shaw: Dispatched to protect witness (off-the-books)</p>
                                <p><span class="log-time">17:10:08</span> - Repaired library workshop tech (damaged by power surge)</p>
                                <p><span class="log-time">18:45:15</span> - Backed up TM core data (secure offline storage)</p>
                                <p><span class="log-time">19:30:37</span> - Reviewed Fusco's report (redacted TM-related details)</p>
                                <p><span class="log-time">20:15:59</span> - Adjusted TM's "irrelevant" data filter (prioritized HR activity)</p>
                                <p><span class="log-time">21:40:28</span> - Prepared safe house coords (for Reese/Shaw emergency use)</p>
                                <p><span class="log-time">22:25:11</span> - Ran TM diagnostic (no Samaritan intrusion detected)</p>
                                <p><span class="log-time">23:00:44</span> - Secured workshop (motion sensors, door encryption)</p>
                                <p><span class="log-time">23:30:17</span> - Initiated TM automated monitoring (overnight mode)</p>
                                <p><span class="log-time">00:15:32</span> - Analyzed new TM case data (low priority)</p>
                                <p><span class="log-time">01:40:58</span> - Updated burner phone list (deactivated old numbers)</p>
                                <p><span class="log-time">02:25:24</span> - Rested in library office (on-call for TM alerts)</p>
                            </div>
                            <!-- 第二份日志：与第一份完全一致（无缝滚动必需） -->
                            <div class="log-copy log-copy-2">
                                <p><span class="log-time">06:00:00</span> - Library workshop: Completed The Machine daily maintenance (bug fixes, encryption)</p>
                                <p><span class="log-time">07:30:15</span> - Exited library, purchased coffee (bodega, 5th & 40th - scanned for surveillance)</p>
                                <p><span class="log-time">08:10:32</span> - Analyzed HR corruption data (12th Precinct records - TM redacted)</p>
                                <p><span class="log-time">09:15:47</span> - Encrypted comms with Reese: Shared HR target coordinates (7th Ave & 34th St)</p>
                                <p><span class="log-time">10:00:21</span> - Updated TM's threat detection (Samaritan countermeasure)</p>
                                <p><span class="log-time">11:25:18</span> - Hacked NYPD database (remote) - Cover for HR intel extraction</p>
                                <p><span class="log-time">12:30:55</span> - Met with Root at diner (8th & 23rd St) - Discussed Machine security</p>
                                <p><span class="log-time">13:45:33</span> - Returned to library, wiped encrypted drive (no trace, cover for TM)</p>
                                <p><span class="log-time">14:20:19</span> - Monitored Reese's field activity (via TM cameras - 7th Ave surveillance)</p>
                                <p><span class="log-time">15:50:46</span> - Received TM alert: High-risk case (Times Sq - witness threat)</p>
                                <p><span class="log-time">16:35:22</span> - Coordinated with Shaw: Dispatched to protect witness (off-the-books)</p>
                                <p><span class="log-time">17:10:08</span> - Repaired library workshop tech (damaged by power surge)</p>
                                <p><span class="log-time">18:45:15</span> - Backed up TM core data (secure offline storage)</p>
                                <p><span class="log-time">19:30:37</span> - Reviewed Fusco's report (redacted TM-related details)</p>
                                <p><span class="log-time">20:15:59</span> - Adjusted TM's "irrelevant" data filter (prioritized HR activity)</p>
                                <p><span class="log-time">21:40:28</span> - Prepared safe house coords (for Reese/Shaw emergency use)</p>
                                <p><span class="log-time">22:25:11</span> - Ran TM diagnostic (no Samaritan intrusion detected)</p>
                                <p><span class="log-time">23:00:44</span> - Secured workshop (motion sensors, door encryption)</p>
                                <p><span class="log-time">23:30:17</span> - Initiated TM automated monitoring (overnight mode)</p>
                                <p><span class="log-time">00:15:32</span> - Analyzed new TM case data (low priority)</p>
                                <p><span class="log-time">01:40:58</span> - Updated burner phone list (deactivated old numbers)</p>
                                <p><span class="log-time">02:25:24</span> - Rested in library office (on-call for TM alerts)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 地图+案件区：仅改Finch专属内容，排版与Reese完全一致 -->
                <div class="profile-map-case-column">
                    <div class="map-box" id="interactiveMap">
                        <img src="img/ny-map.png" alt="Finch's Operational Map">
                       
                        <div class="location-marker" id="locationMarker">
                            <div class="location-text" id="locationText">PUBLIC LIBRARY</div>
                        </div>
                    </div>
                    <div class="case-info" id="activeCase">
                        <h3>ACTIVE OP: 002-801</h3>
                        <p class="case-item"><strong>Op Type:</strong> The Machine Maintenance (Cover for TM Security)</p>
                        <p class="case-item"><strong>Target Area:</strong> Manhattan Public Library (Secret Workshop)</p>
                        <p class="case-item"><strong>Evidence:</strong> Encrypted TM Core Data (Offline Backup)</p>
                        <p class="case-item"><strong>Status:</strong> Ongoing (Samaritan Countermeasure Update)</p>
                        <p class="case-item"><strong>Update:</strong> 10:00:00 - TM Algorithm Updated, No Intrusion Detected</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 底部播报：仅改Finch条目，排版不变 -->
    <div class="news-ticker">
        <div class="ticker-wrapper">
            <div class="ticker-content">
                <span class="member-link" onclick="window.location.href='reese.html'">REESE: 7TH AVE, MONITORING HR TARGET | </span>
                <span class="member-link" onclick="window.location.href='finch.html'">FINCH: PUBLIC LIBRARY, MAINTAINING THE MACHINE | </span>
                <span>ALERT: HR UNIT DETECTED NEAR FINANCIAL DISTRICT | </span>
                <span class="member-link" onclick="window.location.href='root.html'">ROOT: HACKING NYPD CAMERAS - ACCESS GRANTED | </span>
                <span class="member-link" onclick="window.location.href='fusco.html'">FUSCO: 12TH PRECINCT, COVERING TM EVIDENCE | </span>
            </div>
            <div class="ticker-content">
                <span class="member-link" onclick="window.location.href='reese.html'">REESE: 7TH AVE, MONITORING HR TARGET | </span>
                <span class="member-link" onclick="window.location.href='finch.html'">FINCH: PUBLIC LIBRARY, MAINTAINING THE MACHINE | </span>
                <span>ALERT: HR UNIT DETECTED NEAR FINANCIAL DISTRICT | </span>
                <span class="member-link" onclick="window.location.href='root.html'">ROOT: HACKING NYPD CAMERAS - ACCESS GRANTED | </span>
                <span class="member-link" onclick="window.location.href='fusco.html'">FUSCO: 12TH PRECINCT, COVERING TM EVIDENCE | </span>
            </div>
        </div>
    </div>
    <!-- JS：完全保留Reese页逻辑，仅改案件池/区域映射（适配Finch任务） -->
    <script>
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { hour12: false });
            document.querySelector('.time').textContent = timeStr;
        }
        setInterval(updateTime, 1000);
        updateTime();
        const nypdSidebar = document.getElementById('nypdSidebar');
        nypdSidebar.addEventListener('mouseenter', () => {
            nypdSidebar.style.transform = 'translateX(0)';
        });
        nypdSidebar.addEventListener('mouseleave', () => {
            nypdSidebar.style.transform = 'translateX(-98%)';
        });
        const map = document.getElementById('interactiveMap');
        const marker = document.getElementById('locationMarker');
        const markerText = document.getElementById('locationText');
        const activeCase = document.getElementById('activeCase');
        
        // 仅改案件池为Finch专属任务，结构与Reese一致
        const caseRandomPools = {
            types: [
                "The Machine Maintenance (Cover for TM Security)",
                "HR Corruption Research (Cover for Intel Extraction)",
                "Witness Protection Coordination (Cover for TM)",
                "Samaritan Countermeasure Update (TM Related)",
                "Digital Evidence Disposal (Cover for TM)",
                "Safe House Preparation (TM Operatives)"
            ],
            evidences: [
                "Encrypted TM Core Data (Offline Backup)",
                "HR Surveillance Logs (TM Redacted)",
                "Emergency Safe House Coordinates",
                "Samaritan Intrusion Detection Report",
                "NYPD Database Extraction Files",
                "Burner Phone Activation List"
            ],
            statuses: [
                "Ongoing (Samaritan Countermeasure Update)",
                "Resolved (TM Maintenance Completed)",
                "Active (Data Analysis In Progress)",
                "Pending (Waiting for Reese Field Report)",
                "Classified (TM Security Only)",
                "Standby (TM Automated Mode)"
            ],
            updates: [
                "TM Algorithm Updated, No Intrusion Detected",
                "HR Intel Extracted, Sent to Reese",
                "Safe House Secured, Coordinates Shared",
                "Samaritan Activity Spotted, TM Alert Triggered",
                "Digital Evidence Wiped, No Trace Left",
                "NYPD Database Hack Complete, Cover Maintained"
            ]
        };
        function generateRandomCaseData(baseCase) {
            const now = new Date();
            const randomType = caseRandomPools.types[Math.floor(Math.random() * caseRandomPools.types.length)];
            const randomEvidence = caseRandomPools.evidences[Math.floor(Math.random() * caseRandomPools.evidences.length)];
            const randomStatus = caseRandomPools.statuses[Math.floor(Math.random() * caseRandomPools.statuses.length)];
            const randomUpdate = caseRandomPools.updates[Math.floor(Math.random() * caseRandomPools.updates.length)];
            const randomCaseId = `002-${Math.floor(Math.random() * 9999)}`;
            const timeStamp = now.toLocaleTimeString('en-US', { hour12: false });
            
            return {
                id: randomCaseId,
                type: randomType,
                target: baseCase.target,
                evidence: randomEvidence,
                status: randomStatus,
                update: `${timeStamp} - ${randomUpdate}`
            };
        }
        // 仅加library区域映射，结构与Reese一致
        const areaCaseMap = {
            '12th-precinct': {
                location: { top: '50%', left: '50%', text: 'FINANCIAL DISTRICT' },
                baseCase: { target: '34th St & 7th Ave, Manhattan Financial District' }
            },
            'times-square': {
                location: { top: '35%', left: '70%', text: 'TIMES SQUARE' },
                baseCase: { target: 'Times Square Pedestrian Plaza, Manhattan' }
            },
            'library': {
                location: { top: '45%', left: '35%', text: 'PUBLIC LIBRARY' },
                baseCase: { target: 'Manhattan Public Library (Secret Workshop)' }
            },
            'random': {
                location: { 
                    top: `${Math.floor(Math.random() * 70) + 15}%`, 
                    left: `${Math.floor(Math.random() * 70) + 15}%`, 
                    text: 'RANDOM OP ZONE' 
                },
                baseCase: { target: `${Math.floor(Math.random() * 100)}th St & ${['5th','6th','7th','8th','9th'][Math.floor(Math.random()*5)]} Ave, Manhattan)` }
            }
        };
        function getRandomCase() {
            const randomTop = `${Math.floor(Math.random() * 70) + 15}%`;
            const randomLeft = `${Math.floor(Math.random() * 70) + 15}%`;
            const nyAddr = `${Math.floor(Math.random() * 100)}th St & ${['5th','6th','7th','8th','9th'][Math.floor(Math.random()*5)]} Ave, Manhattan)`;
            return {
                location: { 
                    top: randomTop, 
                    left: randomLeft, 
                    text: `OP ZONE (${nyAddr.split(',')[0]})` 
                },
                case: generateRandomCaseData({ target: nyAddr })
            };
        }
        function getAreaByClick(x, y) {
            const mapRect = map.getBoundingClientRect();
            const relativeX = (x - mapRect.left) / mapRect.width * 100;
            const relativeY = (y - mapRect.top) / mapRect.height * 100;
            
            if (Math.abs(relativeY - 50) <= 5 && Math.abs(relativeX - 50) <= 5) return '12th-precinct';
            if (Math.abs(relativeY - 35) <= 5 && Math.abs(relativeX - 70) <= 5) return 'times-square';
            if (Math.abs(relativeY - 45) <= 5 && Math.abs(relativeX - 35) <= 5) return 'library';
            return 'custom';
        }
        function updateMapAndCase(areaKey) {
            let data;
            if (areaKey === 'random') {
                data = getRandomCase();
            } else if (areaCaseMap[areaKey]) {
                const baseData = areaCaseMap[areaKey];
                data = {
                    location: baseData.location,
                    case: generateRandomCaseData(baseData.baseCase)
                };
            } else {
                data = areaKey;
            }
            
            marker.style.top = data.location.top;
            marker.style.left = data.location.left;
            markerText.textContent = data.location.text;
            
            activeCase.classList.add('fading');
            setTimeout(() => {
                activeCase.innerHTML = `
                    <h3>ACTIVE OP: ${data.case.id}</h3>
                    <p class="case-item"><strong>Op Type:</strong> ${data.case.type}</p>
                    <p class="case-item"><strong>Target Area:</strong> ${data.case.target}</p>
                    <p class="case-item"><strong>Evidence:</strong> ${data.case.evidence}</p>
                    <p class="case-item"><strong>Status:</strong> ${data.case.status}</p>
                    <p class="case-item"><strong>Update:</strong> ${data.case.update}</p>
                `;
                activeCase.classList.remove('fading');
            }, 300);
        }
        map.addEventListener('click', (e) => {
            const areaKey = getAreaByClick(e.clientX, e.clientY);
            if (areaKey === 'custom') {
                const customData = getRandomCase();
                updateMapAndCase(customData);
            } else {
                updateMapAndCase(areaKey);
            }
        });
        const presetAreas = ['12th-precinct', 'times-square', 'library', 'random'];
        function autoUpdateMapAndCase() {
            const randomArea = presetAreas[Math.floor(Math.random() * presetAreas.length)];
            updateMapAndCase(randomArea);
        }
        const autoUpdateTimer = setInterval(autoUpdateMapAndCase, 30000);
        updateMapAndCase('library'); // 初始加载Finch基地（图书馆）
        
        // 日志滚动逻辑：完全保留Reese页代码，无任何修改
        let logAnimationId;
        const logContent = document.getElementById('logContent');
        const logCopy1 = document.querySelector('.log-copy-1');
        const scrollSpeed = 0.6; 
        let logHeight = 0; 
        window.addEventListener('load', () => {
            logHeight = logCopy1.offsetHeight;
            startLogScroll();
        });
        function scrollLogs() {
            logContent.scrollTop += scrollSpeed;
            if (logContent.scrollTop >= logHeight) {
                logContent.scrollTop = 0;
            }
            logAnimationId = requestAnimationFrame(scrollLogs);
        }
        function startLogScroll() {
            logAnimationId = requestAnimationFrame(scrollLogs);
        }
        logContent.addEventListener('mouseenter', () => {
            cancelAnimationFrame(logAnimationId);
        });
        logContent.addEventListener('mouseleave', () => {
            cancelAnimationFrame(logAnimationId);
            startLogScroll();
        });
        
        // 侧边栏随机更新：完全保留Reese页代码，无任何修改
        function updateSidebarRandomData() {
            const randomElements = document.querySelectorAll('.sidebar-random');
            randomElements.forEach(el => {
                if (el.dataset.min && el.dataset.max) {
                    const min = Number(el.dataset.min);
                    const max = Number(el.dataset.max);
                    el.textContent = Math.floor(Math.random() * (max - min + 1)) + min;
                } else if (el.dataset.list) {
                    const list = el.dataset.list.split(',');
                    el.textContent = list[Math.floor(Math.random() * list.length)];
                }
            });
        }
        updateSidebarRandomData();
        setInterval(updateSidebarRandomData, 5000);
    </script>
</body>
</html>