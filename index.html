<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THE MACHINE | SURVEILLANCE SYSTEM</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="js/script.js" defer></script>
</head>
<!-- 加载层（全屏覆盖） -->
<div id="loadingScreen" class="loading-screen">
  <!-- 代码雨Canvas -->
  <canvas id="codeRain"></canvas>
  <!-- 进度条容器 -->
  <div class="progress-container">
    <div id="progressBar" class="progress-bar"></div>
    <span id="progressText" class="progress-text">0%</span>
  </div>
  <!-- 信息框容器（承载随机弹出的人物信息） -->
  <div id="infoBoxContainer" class="info-box-container"></div>
</div>
<body>
  <!-- 全局背景 -->
  <div class="bg-base"></div>
  <div class="bg-circuit"></div>

  <!-- 顶部系统状态栏 -->
  <div class="system-status">
    <div class="status-left">
      <i class="fas fa-server"></i> THE MACHINE v4.8.2
      <span><i class="fas fa-network-wired"></i> NODES: 2,147,483</span>
      <span><i class="fas fa-microchip"></i> LOAD: 82%</span>
    </div>
    <div class="status-right">
      <span><i class="fas fa-database"></i> PROCESS: 3.7TB/s</span>
      <span class="time"></span>
    </div>
  </div>

  <!-- THE MACHINE 数据量滚动模块 -->
  <div class="data-ticker">
    <div class="data-ticker-wrapper">
      <div class="data-ticker-content">
        <i class="fas fa-satellite-dish"></i> REAL-TIME PROCESS: 14,789,231 REQUESTS/SEC | 
        <i class="fas fa-hdd"></i> DATA HANDLED: 897.4 PB (24H) | 
        <i class="fas fa-globe"></i> GLOBAL NODES: 2,147,483,647 | 
        <i class="fas fa-user-secret"></i> IDENTIFIED PERSONS: 7,894,561,230 | 
        <i class="fas fa-exclamation-triangle"></i> HIGH RISK CASES: 12,478 | 
        <i class="fas fa-shield-alt"></i> PROTECTED TARGETS: 8,976 | 
      </div>
      <div class="data-ticker-content">
        <i class="fas fa-satellite-dish"></i> REAL-TIME PROCESS: 14,789,231 REQUESTS/SEC | 
        <i class="fas fa-hdd"></i> DATA HANDLED: 897.4 PB (24H) | 
        <i class="fas fa-globe"></i> GLOBAL NODES: 2,147,483,647 | 
        <i class="fas fa-user-secret"></i> IDENTIFIED PERSONS: 7,894,561,230 | 
        <i class="fas fa-exclamation-triangle"></i> HIGH RISK CASES: 12,478 | 
        <i class="fas fa-shield-alt"></i> PROTECTED TARGETS: 8,976 | 
      </div>
    </div>
  </div>

  <!-- 首页核心分屏 -->
  <div class="screen-container">
    <!-- 左侧70%：监控区+NYPD信息区 -->
    <div class="monitor-nypd-wrapper">
      <!-- 上半部分：监控区（重构为37分） -->
      <div class="monitor-area">
        <!-- 左侧30%：3*2个人照片跳转区 -->
        <div class="monitor-avatar-area">
          <div class="avatar-card" onclick="window.location.href='reese.html'">
            <img src="img/reese.jpg" alt="John Reese">
            <p>JOHN REESE</p>
          </div>
          <div class="avatar-card" onclick="window.location.href='shaw.html'">
            <img src="img/shaw.jpg" alt="Sameen Shaw">
            <p>SAMEEN SHAW</p>
          </div>
          <div class="avatar-card" onclick="window.location.href='root.html'">
            <img src="img/root.jpg" alt="Samantha Groves (Root)">
            <p>SAMANTHA GROVES</p>
          </div>
          <div class="avatar-card" onclick="window.location.href='finch.html'">
            <img src="img/finch.jpg" alt="Harold Finch">
            <p>HAROLD FINCH</p>
          </div>
          <div class="avatar-card" onclick="window.location.href='fusco.html'">
            <img src="img/fusco.jpg" alt="Lionel Fusco">
            <p>LIONEL FUSCO</p>
          </div>
          <div class="avatar-card" onclick="window.location.href='carter.html'">
            <img src="img/carter.jpg" alt="Joss Carter">
            <p>JOSS CARTER</p>
          </div>
        </div>
        <!-- 右侧70%：监控视频区（缩小比例） -->
        <div class="monitor-video-area">
          <video class="monitor-video" autoplay loop muted playsinline>
            <source src="video/monitor.mp4" type="video/mp4">
            <div class="video-backup">VIDEO LOAD FAILED | CHECK PATH: video/monitor.mp4</div>
          </video>
          <div class="grid grid-1"></div>
          <div class="grid grid-2"></div>
          <div class="grid grid-3"></div>
        </div>
      </div>

      <!-- 下半部分：NYPD信息区 -->
      <div class="nypd-info-area">
        <!-- NYPD地图（移除红点生成逻辑） -->
        <div class="nypd-map-container" id="nypdMapContainer">
          <img src="img/ny-map.png" alt="New York Map" class="nypd-map">
        </div>

        <!-- NYPD数据面板（可滚动+动态更新） -->
        <div class="nypd-data-panel" id="nypdDataPanel">
          <div class="nypd-data-section">
            <h4>ACTIVE PRECINCTS (ON DUTY)</h4>
            <p><span class="nypd-label">12TH PRECINCT:</span> <span class="nypd-value" id="pre12-off">47</span> OFFICERS | <span class="nypd-value" id="pre12-car">8</span> PATROL CARS</p>
            <p><span class="nypd-label">5TH PRECINCT:</span> <span class="nypd-value" id="pre5-off">32</span> OFFICERS | <span class="nypd-value" id="pre5-car">5</span> PATROL CARS</p>
            <p><span class="nypd-label">17TH PRECINCT:</span> <span class="nypd-value" id="pre17-off">51</span> OFFICERS | <span class="nypd-value" id="pre17-car">9</span> PATROL CARS</p>
            <p><span class="nypd-label">21ST PRECINCT:</span> <span class="nypd-value" id="pre21-off">39</span> OFFICERS | <span class="nypd-value" id="pre21-car">6</span> PATROL CARS</p>
            <p><span class="nypd-label">9TH PRECINCT:</span> <span class="nypd-value" id="pre9-off">42</span> OFFICERS | <span class="nypd-value" id="pre9-car">7</span> PATROL CARS</p>
            <p><span class="nypd-label">18TH PRECINCT:</span> <span class="nypd-value" id="pre18-off">38</span> OFFICERS | <span class="nypd-value" id="pre18-car">6</span> PATROL CARS</p>
            <p><span class="nypd-label">7TH PRECINCT:</span> <span class="nypd-value" id="pre7-off">45</span> OFFICERS | <span class="nypd-value" id="pre7-car">8</span> PATROL CARS</p>
            <p><span class="nypd-label">10TH PRECINCT:</span> <span class="nypd-value" id="pre10-off">36</span> OFFICERS | <span class="nypd-value" id="pre10-car">5</span> PATROL CARS</p>
          </div>
          <div class="nypd-data-section">
            <h4>REAL-TIME CASE STATISTICS</h4>
            <p><span class="nypd-label">ACTIVE CASES:</span> <span class="nypd-value" id="active-cases">1,247</span> (NYC WIDE)</p>
            <p><span class="nypd-label">HIGH PRIORITY:</span> <span class="nypd-highrisk" id="high-case">78</span> | <span class="nypd-label">MEDIUM:</span> <span class="nypd-value" id="med-case">329</span> | <span class="nypd-label">LOW:</span> <span class="nypd-value" id="low-case">840</span></p>
            <p><span class="nypd-label">RESOLVED TODAY:</span> <span class="nypd-value" id="resolved-case">23</span> | <span class="nypd-label">PENDING:</span> <span class="nypd-value" id="pending-case">1,224</span></p>
            <p><span class="nypd-label">NEW CASES IN 1HR:</span> <span class="nypd-value" id="new-case">17</span></p>
          </div>
          <div class="nypd-data-section">
            <h4>WANTED ALERTS [HIGH RISK]</h4>
            <p><span class="nypd-highrisk">BEN DAVIS (TGT-010):</span> ARMED, DANGEROUS | LAST SEEN: CENTRAL PARK</p>
            <p><span class="nypd-highrisk">ANNA SMITH (TGT-009):</span> PERSON OF INTEREST | LAST SEEN: CITY HALL</p>
            <p><span class="nypd-highrisk">MICHAEL SCOTT (CASE#789):</span> DOMESTIC THREAT | LAST SEEN: 5TH AVE</p>
            <p><span class="nypd-highrisk">JOHN DOE (TGT-011):</span> FUGITIVE | LAST SEEN: BROOKLYN BRIDGE</p>
          </div>
          <div class="nypd-data-section">
            <h4>POLICE RESOURCE STATUS</h4>
            <p><span class="nypd-label">PATROL CARS AVAILABLE:</span> <span class="nypd-value" id="patrol-car">14</span> (MANHATTAN ONLY)</p>
            <p><span class="nypd-label">SWAT TEAM:</span> <span class="nypd-value">STANDBY</span> | <span class="nypd-label">RESPONSE TIME:</span> <span class="nypd-value" id="swat-time">8</span> MIN</p>
            <p><span class="nypd-label">DETECTIVES ON CALL:</span> <span class="nypd-value" id="detective">12</span> | <span class="nypd-label">FORENSICS:</span> <span class="nypd-value">AVAILABLE</span></p>
            <p><span class="nypd-label">CAMERA NETWORK:</span> <span class="nypd-value" id="camera">98</span>% OPERATIONAL (ROOT HACKED)</p>
            <p><span class="nypd-label">HELICOPTER UNIT:</span> <span class="nypd-value">2</span> AVAILABLE | <span class="nypd-label">DRONES:</span> <span class="nypd-value">7</span> DEPLOYED</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 右侧30%：TARGET DATABASE -->
    <div class="info-area">
      <div class="info-header">
        <i class="fas fa-list-alt"></i> TARGET DATABASE
      </div>
      <div class="info-scroll" id="infoScroll">
        <div class="info-card">
          <h4>TARGET 01 | LOW PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-001-789456</p>
          <p><span class="label">Name:</span> Lena Chen</p>
          <p><span class="label">Identity:</span> Civilian</p>
          <p><span class="label">Risk:</span> <span class="risk low">LOW</span></p>
          <p><span class="label">Track:</span> 5th Ave → Central Park</p>
        </div>
        <div class="info-card">
          <h4>TARGET 02 | LOW PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-002-963852</p>
          <p><span class="label">Name:</span> Mark Wilson</p>
          <p><span class="label">Identity:</span> Store Clerk</p>
          <p><span class="label">Risk:</span> <span class="risk low">LOW</span></p>
          <p><span class="label">Track:</span> Main St → 5th Ave</p>
        </div>
        <div class="info-card">
          <h4>TARGET 03 | MEDIUM PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-003-147258</p>
          <p><span class="label">Name:</span> Emily Rose</p>
          <p><span class="label">Identity:</span> Photographer</p>
          <p><span class="label">Risk:</span> <span class="risk medium">MEDIUM</span></p>
          <p><span class="label">Track:</span> Central Park → Wall St</p>
        </div>
        <div class="info-card">
          <h4>TARGET 04 | MEDIUM PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-004-258369</p>
          <p><span class="label">Name:</span> Mike Taylor</p>
          <p><span class="label">Identity:</span> Delivery Driver</p>
          <p><span class="label">Risk:</span> <span class="risk medium">MEDIUM</span></p>
          <p><span class="label">Track:</span> West Blvd → Main St</p>
        </div>
        <div class="info-card">
          <h4>TARGET 05 | LOW PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-005-369258</p>
          <p><span class="label">Name:</span> Sarah Lee</p>
          <p><span class="label">Identity:</span> Designer</p>
          <p><span class="label">Risk:</span> <span class="risk low">LOW</span></p>
          <p><span class="label">Track:</span> 3rd St → Central Park</p>
        </div>
        <div class="info-card">
          <h4>TARGET 06 | MEDIUM PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-006-456789</p>
          <p><span class="label">Name:</span> Tom Clark</p>
          <p><span class="label">Identity:</span> Construction Worker</p>
          <p><span class="label">Risk:</span> <span class="risk medium">MEDIUM</span></p>
          <p><span class="label">Track:</span> Main St → Construction Site</p>
        </div>
        <div class="info-card">
          <h4>TARGET 07 | LOW PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-007-567890</p>
          <p><span class="label">Name:</span> Lisa Wang</p>
          <p><span class="label">Identity:</span> Nurse</p>
          <p><span class="label">Risk:</span> <span class="risk low">LOW</span></p>
          <p><span class="label">Track:</span> 5th Ave → Hospital</p>
        </div>
        <div class="info-card">
          <h4>TARGET 08 | MEDIUM PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-008-678901</p>
          <p><span class="label">Name:</span> Jack Brown</p>
          <p><span class="label">Identity:</span> Mechanic</p>
          <p><span class="label">Risk:</span> <span class="risk medium">MEDIUM</span></p>
          <p><span class="label">Track:</span> West Blvd → Garage</p>
        </div>
        <div class="info-card">
          <h4>TARGET 09 | HIGH PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-009-789012</p>
          <p><span class="label">Name:</span> Anna Smith</p>
          <p><span class="label">Identity:</span> Journalist</p>
          <p><span class="label">Risk:</span> <span class="risk high">HIGH</span></p>
          <p><span class="label">Track:</span> Main St → City Hall</p>
        </div>
        <div class="info-card">
          <h4>TARGET 10 | HIGH PRIORITY</h4>
          <p><span class="label">ID:</span> TGT-010-890123</p>
          <p><span class="label">Name:</span> Ben Davis</p>
          <p><span class="label">Identity:</span> Unemployed</p>
          <p><span class="label">Risk:</span> <span class="risk high">HIGH</span></p>
          <p><span class="label">Track:</span> West Blvd → Central Park</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 底部滚动播报（加入Carter内容） -->
  <div class="news-ticker">
    <div class="ticker-wrapper">
      <div class="ticker-content">
        <span class="member-link" onclick="window.location.href='reese.html'">REESE: 5TH AVE, MONITORING TARGET 01 | </span>
        <span class="member-link" onclick="window.location.href='finch.html'">FINCH: PUBLIC LIBRARY, ANALYZING CASE DATA | </span>
        <span>ALERT: MEDIUM THREAT TARGET 04 DETECTED NEAR WEST BLVD | </span>
        <span class="member-link" onclick="window.location.href='root.html'">ROOT: HACKING NYC CAMERA NETWORK - ACCESS GRANTED | </span>
        <span class="member-link" onclick="window.location.href='fusco.html'">FUSCO: 12TH PRECINCT, COVERING TM EVIDENCE | </span>
        <span class="member-link" onclick="window.location.href='carter.html'">CARTER: 8TH PRECINCT, INVESTIGATING TARGET 09 | </span>
        <span>CASE #479: HIGH-RISK SUSPECT LOITERING AT CENTRAL PARK | </span>
        <span>SHAW: UNDERCOVER, PROTECTING TARGET 09 | </span>
        <span>TM UPDATE: 1,247 NEW PERSONS OF INTEREST IDENTIFIED | </span>
      </div>
      <div class="ticker-content">
        <span class="member-link" onclick="window.location.href='reese.html'">REESE: 5TH AVE, MONITORING TARGET 01 | </span>
        <span class="member-link" onclick="window.location.href='finch.html'">FINCH: PUBLIC LIBRARY, ANALYZING CASE DATA | </span>
        <span>ALERT: MEDIUM THREAT TARGET 04 DETECTED NEAR WEST BLVD | </span>
        <span class="member-link" onclick="window.location.href='root.html'">ROOT: HACKING NYC CAMERA NETWORK - ACCESS GRANTED | </span>
        <span class="member-link" onclick="window.location.href='fusco.html'">FUSCO: 12TH PRECINCT, COVERING TM EVIDENCE | </span>
        <span class="member-link" onclick="window.location.href='carter.html'">CARTER: 8TH PRECINCT, INVESTIGATING TARGET 09 | </span>
        <span>CASE #479: HIGH-RISK SUSPECT LOITERING AT CENTRAL PARK | </span>
        <span>SHAW: UNDERCOVER, PROTECTING TARGET 09 | </span>
        <span>TM UPDATE: 1,247 NEW PERSONS OF INTEREST IDENTIFIED | </span>
      </div>
    </div>
  </div>

  <!-- 脚本：实时时间 + 数据量动态更新（移除红点生成代码） -->
  <script>
    // 1. 实时时间更新
    function updateTime() {
      const now = new Date();
      const dateStr = now.toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\//g, '-');
      const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      const gmtStr = `${dateStr}, ${timeStr} GMT+8`; // 可调整时区
      document.querySelector('.time').textContent = gmtStr;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // 2. 动态更新THE MACHINE顶部数据
    setInterval(() => {
      const tickerContents = document.querySelectorAll('.data-ticker-content');
      const reqNum = Math.floor(Math.random() * 5000000 + 10000000);
      const pbNum = (Math.random() * 100 + 850).toFixed(1);
      const nodeNum = Math.floor(Math.random() * 1000000 + 2147483647);
      const personNum = Math.floor(Math.random() * 100000000 + 7894561230);
      const highRisk = Math.floor(Math.random() * 100 + 12000);
      const protectedTarget = Math.floor(Math.random() * 100 + 8900);
      
      const newContent = `
        <i class="fas fa-satellite-dish"></i> REAL-TIME PROCESS: ${reqNum} REQUESTS/SEC | 
        <i class="fas fa-hdd"></i> DATA HANDLED: ${pbNum} PB (24H) | 
        <i class="fas fa-globe"></i> GLOBAL NODES: ${nodeNum} | 
        <i class="fas fa-user-secret"></i> IDENTIFIED PERSONS: ${personNum} | 
        <i class="fas fa-exclamation-triangle"></i> HIGH RISK CASES: ${highRisk} | 
        <i class="fas fa-shield-alt"></i> PROTECTED TARGETS: ${protectedTarget} | 
      `;
      
      tickerContents.forEach(el => {
        el.innerHTML = newContent;
      });
    }, 2000);
  </script>
</body>
</html>